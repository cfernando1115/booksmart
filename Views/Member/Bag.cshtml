@model BookSmart.ViewModels.MemberBagViewModel

<div class="container p-3">
    <h3 class="text-center">Your Book Bag</h3>
    @if (Model.UnconfirmedShipments.Count > 0)
    {
        <h2>Unconfirmed Shipments</h2>
        <div class="row mt-3">
            @foreach (var shipBook in Model.UnconfirmedShipments)
            {
                <div class="text-center col-sm-4 mt-5">
                    <img src="~/img/logo-small.svg" alt="@shipBook.Book.Name" />
                    <h5 class="mt-3">@shipBook.Book.Name</h5>
                    <p class="mb-1">@shipBook.Book.Author</p>
                    <p class="mb-1">@shipBook.Book.Genre.Name</p>
                    <p class="mb-0">@shipBook.Book.Price</p>
                    <p><small><i> before membership discount</i></small></p>
                    <button type="button" class="btn btn-primary mx-1" id="removeFromBagBtn" onclick="removeBookFromBag(@shipBook.Book.Id);">Remove From Bag</button>
                </div>
            }
        </div>
    }
    @if (Model.ConfirmedShipments.Count > 0)
    {
        <h2 class="mt-5">Confirmed Shipments</h2>
        <p class="text-success">Note: Confirmed shipments are final</p>
        <div class="row mt-3">
            @foreach (var shipBook in Model.ConfirmedShipments)
            {
                <div class="text-center col-sm-4 mt-5">
                    <img src="~/img/logo-small.svg" alt="@shipBook.Book.Name" />
                    <h5 class="mt-3">@shipBook.Book.Name</h5>
                    <p class="mb-1">@shipBook.Book.Author</p>
                    <p class="mb-1">@shipBook.Book.Genre.Name</p>
                    <p class="mb-0">@shipBook.Book.Price</p>
                    <p><small><i> before membership discount</i></small></p>
                    <p class="mb-1 text-danger">Shipping @shipBook.ShipDate</p>
                </div>
            }
        </div>
    }
    @if (Model.UnscheduledBooks.Count > 0)
    {
        <h2 class="row mt-5">Unscheduled Shipments</h2>
        <div class="text-center row mt-3">
            @foreach (var book in Model.UnscheduledBooks)
            {
                <div class="text-center col-sm-4 mt-5">
                    <img src="~/img/logo-small.svg" alt="@book.Name" />
                    <h5 class="mt-3">@book.Name</h5>
                    <p class="mb-1">@book.Author</p>
                    <p class="mb-1">@book.Genre.Name</p>
                    <p class="mb-0">@book.Price</p>
                    <p><small><i> before membership discount</i></small></p>
                    <button type="button" class="btn btn-primary mx-1" id="removeFromBagBtn" onclick="removeBookFromBag(@book.Id);">Remove From Bag</button>
                </div>
            }
        </div>
    }
    @if (Model.ConfirmedShipments.Count == 0 && Model.UnconfirmedShipments.Count == 0 && Model.UnscheduledBooks.Count == 0)
    {
        <p class="text-center">Your bag is empty</p>
    }
</div>

@section Scripts{
    <script src="~/js/removeFromBag.js"></script>
}
